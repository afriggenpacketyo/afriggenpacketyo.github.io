---
layout: default
---
<!-- Debug: Show we're in the correct layout -->
<div style="display:none">Using post-with-cards layout</div>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        {{ page.date | date: date_format }}
      </time>
    </p>
  </header>

  <!-- Debug: Show number of cards -->
  <p style="color: red;">Number of cards: {{ page.summary_cards | size }}</p>

  <div class="post-content e-content" itemscope itemtype="http://schema.org/BlogPosting">
    {{ content }}

    <div class="cards-grid">
      {% for card_raw in page.summary_cards %}
        {% assign card_str = card_raw | strip %}
        {% assign title_parts = card_str | split: '"title"=>"' %}
        {% assign title_end = title_parts[1] | split: '",' | first %}

        {% assign summary_parts = card_str | split: '"summary"=>"' %}
        {% assign summary_end = summary_parts[1] | split: '",' | first %}

        {% assign link_parts = card_str | split: '"link"=>"' %}
        {% assign link_end = link_parts[1] | split: '",' | first %}

        {% assign optimism_parts = card_str | split: '"optimism"=>' %}
        {% assign optimism_end = optimism_parts[1] | split: ')' | first %}

        <div class="card" onclick="this.classList.toggle('expanded')">
          <div class="title">{{ title_end }}</div>
          <div class="details">
            <div class="summary">{{ summary_end }}</div>
            <div class="footer">
              <div class="optimism">Optimism Score: {{ optimism_end }}/100</div>
              <a href="{{ link_end }}" target="_blank">Read Full Article â†’</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</article>

<style>
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  .card {
    background: #1a1a1a;
    border: 1px solid #0f0;
    color: #0f0;
    cursor: pointer;
    height: 150px;
    overflow: hidden;
    transition: all 0.3s ease;
    position: relative;
  }

  .card.expanded {
    height: 400px;
    grid-column: span 2;
  }

  .title {
    padding: 20px;
    font-size: 1.1em;
    text-align: center;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details {
    padding: 20px;
    opacity: 0;
    transition: opacity 0.3s ease;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: #1a1a1a;
  }

  .card.expanded .details {
    opacity: 1;
  }

  .summary {
    margin-bottom: 20px;
    text-align: left;
    max-height: 250px;
    overflow-y: auto;
  }

  .footer {
    border-top: 1px solid #0f0;
    padding-top: 15px;
    margin-top: 15px;
  }

  .optimism {
    margin-bottom: 10px;
  }

  .card a {
    color: #0f0;
    text-decoration: none;
    border: 1px solid #0f0;
    padding: 5px 10px;
    display: inline-block;
  }

  .card a:hover {
    background: rgba(0, 255, 0, 0.1);
  }

  /* Scrollbar styling */
  .summary::-webkit-scrollbar {
    width: 4px;
  }

  .summary::-webkit-scrollbar-track {
    background: rgba(0, 255, 0, 0.1);
  }

  .summary::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 0, 0.3);
    border-radius: 2px;
  }
</style>